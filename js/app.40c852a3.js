(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);m&&m(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},n=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"d1a85684"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=r[t]=[e,s]}));e.push(a[2]=s);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t);var l=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",l.name="ChunkLoadError",l.type=s,l.request=n,a[1](l)}r[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("1da1"),r=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("96cf"),a("2b0e")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"body"}},[a("header",[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"/",exact:""}},[a("h1",[a("span",{staticClass:"ssps"},[t._v("SSPŠaG")]),t._v("aming")])]),a("i",{staticClass:"fas fa-bars menu",on:{click:function(e){t.menu=!0}}}),a("nav",[t._l(t.routes,(function(e,s){return a("router-link",{key:s,attrs:{to:e.path,exact:e.exact},domProps:{innerHTML:t._s(e.title)}})})),t.user?a("router-link",{staticClass:"special",attrs:{to:"/dashboard"}},[t._v("Dashboard")]):a("router-link",{staticClass:"special",attrs:{to:"/login"}},[t._v("Přihlášení")])],2),a("transition",{attrs:{name:"aside"}},[a("aside",{directives:[{name:"show",rawName:"v-show",value:t.menu,expression:"menu"}]},[a("div",{staticClass:"click-out",on:{click:function(e){t.menu=!1}}}),a("div",{staticClass:"aside"},[a("div",{staticClass:"header"},[a("i",{staticClass:"fas fa-times",on:{click:function(e){t.menu=!1}}})]),a("div",{staticClass:"nav"},[t.user?a("router-link",{staticClass:"special",attrs:{to:"/dashboard"}},[t._v("Dashboard")]):a("router-link",{staticClass:"special",attrs:{to:"/login"}},[t._v("Přihlášení")]),t._l(t.routes,(function(e,s){return a("router-link",{key:s,attrs:{to:e.path,exact:e.exact},domProps:{innerHTML:t._s(e.title)}})}))],2),a("div",{staticClass:"divider"}),t.user?a("div",{staticClass:"self-nav"}):t._e()])])])],1)]),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},i=[],o={data:function(){return{menu:!1,routes:[{path:"/",title:"Domů",exact:!0,icon:"fas fa-home"},{path:"/o-nas",title:"O Nás",exact:!1,icon:""},{path:"/turnaje",title:"Turnaje",exact:!1,icon:""}]}},computed:{user:function(){return this.$store.state.user}},watch:{$route:function(){this.menu=!1}}},c=o,l=a("2877"),u=Object(l["a"])(c,n,i,!1,null,null,null),m=u.exports,d=(a("3ca3"),a("ddb0"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"home"},[a("div",{staticClass:"main"},[a("div",{staticClass:"banner"}),a("div",{staticClass:"darken-banner"}),a("div",{staticClass:"text"},[a("h2",[t._v("Nadpis ne asi")]),a("h3",[t._v("A to debilní inovativní moto")]),a("div",{staticClass:"but-wrap"},[a("router-link",{staticClass:"button",attrs:{to:"/turnaje"}},[t._v("TURNAJE")]),a("router-link",{staticClass:"button",attrs:{to:t.user?"/turnaje":"/login"}},[t._v("Jsem student a chci hrát!")])],1)])])])},v=[],h={name:"Home",computed:{user:function(){return this.$store.state.user}}},f=h,g=Object(l["a"])(f,p,v,!1,null,null,null),_=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"login"},[a("div",{staticClass:"background"}),a("div",{staticClass:"bg-darken"}),a("section",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[t._m(0),a("div",{staticClass:"form"},[a("transition",{attrs:{name:"login",mode:"out-in"}},["login"===t.loginTab?a("div",{key:"login",staticClass:"login-form"},[a("h2",[t._v("Přihlášení")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"login"===t.loginTab,expression:"loginTab === 'login'"}],staticClass:"input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:t.emailError?"error":"",attrs:{type:"email",placeholder:"Váš školní email"},domProps:{value:t.email},on:{click:function(e){t.emailError=!1},input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.emailError,expression:"emailError"}],staticClass:"input-error",domProps:{innerHTML:t._s(t.emailErrorText)}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:t.passError?"error":"",attrs:{type:"password",placeholder:"Heslo"},domProps:{value:t.password},on:{click:function(e){t.passError=!1},input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.passError,expression:"passError"}],staticClass:"input-error",domProps:{innerHTML:t._s(t.passErrorText)}},[t._v("Nesprávné heslo.")])]),a("div",{staticClass:"keep-login",on:{click:function(e){t.save=!t.save}}},[a("i",{class:t.save?"fas fa-check-square":"far fa-square"}),a("span",[t._v("Zůstat přihlášen (Na 14 dní)")])]),t.loginLoading?a("button",{staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch"})]):a("button",{on:{click:t.submitLogin}},[t._v(" Přihlásit se ")]),a("span",{staticClass:"code-alrdy",on:{click:function(e){t.loginTab="code"}}},[t._v("Už mám kód")])]):t._e(),"code"===t.loginTab?a("div",{key:"code",staticClass:"login-form"},[a("h2",[t._v("Ověřovací Kód")]),a("h3",[t._v(" Při registraci abychom ověřili zda jste to opravdu vy, jsme vám poslali ověřovací kód na vaší emailovou adresu. ")]),a("div",{staticClass:"input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Váš školní email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.emailError,expression:"emailError"}],staticClass:"input-error",domProps:{innerHTML:t._s(t.emailErrorText)}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"Ověřovací kód"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t.codeLoading?a("button",{staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch"})]):a("button",{on:{click:t.submitCode}},[t._v("Odeslat")])]):t._e(),"data"===t.loginTab?a("div",{key:"data",staticClass:"login-form"},[a("h2",[t._v("Dokončení registrace")]),a("div",{staticClass:"input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Křestní jméno"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],attrs:{type:"text",placeholder:"Příjmení"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.trida,expression:"trida"}],attrs:{type:"text",placeholder:"Třída"},domProps:{value:t.trida},on:{input:function(e){e.target.composing||(t.trida=e.target.value)}}})]),t.dataLoading?a("button",{staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch"})]):a("button",{on:{click:t.submitData}},[t._v(" Dokončit Registraci ")])]):t._e()])],1)])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("h2"),a("h3")])}],k=(a("ac1f"),a("5319"),a("5b81"),a("b0c0"),a("bc3a")),y=a.n(k),w={data:function(){return{loginTab:"login",email:"",emailError:!1,emailErrorText:"",password:"",passError:!1,passErrorText:"",save:!1,loginLoading:!1,code:"",codeLoading:!1,name:"",lastname:"",trida:"",dataLoading:!1}},methods:{submitLogin:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loginLoading=!0,e.prev=1,e.next=4,y.a.post(t.apiUrl("/login"),{email:t.email,password:t.password});case 4:a=e.sent,a.data.save=t.save,t.$store.dispatch("login",a.data),s=localStorage.getItem("prestiz_redirect"),s?(localStorage.removeItem("prestiz_redirect"),t.$router.push(s)):t.$router.push("/dashboard"),e.next=27;break;case 11:e.prev=11,e.t0=e["catch"](1),r=e.t0.response.data.replaceAll(/<[^>]*>?/gm,""),t.loginLoading=!1,e.t1=e.t0.response.status,e.next=401===e.t1?18:403===e.t1?20:400===e.t1?23:26;break;case 18:return t.loginTab="code",e.abrupt("break",27);case 20:return t.passError=!0,t.passErrorText=r,e.abrupt("break",27);case 23:return t.emailError=!0,t.emailErrorText=r,e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:case"end":return e.stop()}}),e,null,[[1,11]])})))()},submitCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.codeLoading=!0,e.prev=1,e.next=4,y.a.post(t.apiUrl("/register"),{email:t.email,code:t.code});case 4:a=e.sent,a.data.save=t.save,t.$store.dispatch("login",a.data),t.loginTab="data",t.loginLoading=!1,e.next=22;break;case 11:e.prev=11,e.t0=e["catch"](1),s=e.t0.response.data.replaceAll(/<[^>]*>?/gm,""),e.t1=e.t0.response.status,e.next=401===e.t1?17:400===e.t1?19:22;break;case 17:return t.loginTab="login",e.abrupt("break",22);case 19:return t.emailError=!0,t.emailErrorText=s,e.abrupt("break",22);case 22:case"end":return e.stop()}}),e,null,[[1,11]])})))()},submitData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataLoading=!0,e.prev=1,e.next=4,y.a.post(t.apiUrl("/user-data"),{name:t.name,lastname:t.lastname,trida:t.trida},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 4:a=e.sent,t.dataLoading=!1,t.$store.commit("setUser",a.data),s=localStorage.getItem("prestiz_redirect"),s?(localStorage.removeItem("prestiz_redirect"),t.$router.push(s)):t.$router.push("/dashboard"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()}}},x=w,j=Object(l["a"])(x,b,C,!1,null,null,null),T=j.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"turnaje"},[t._m(0),a("div",{staticClass:"main"},[a("section",[a("h2",[t._v("Nadcházející turnaje")]),a("div",{staticClass:"articles"},[a("transition",{attrs:{name:"fade"}},t._l(t.upcoming,(function(e){return a("article",{key:e.id},[a("div",{staticClass:"banner",style:"background-image: url("+e.data.bannerURL+")"}),a("div",{staticClass:"content"},[a("h3",[t._v(t._s(e.title))]),a("div",{staticClass:"info"},[a("div",{staticClass:"properties"},[a("span",[t._v("Datum")]),a("span",[t._v("Týmy")])]),a("div",{staticClass:"values"},[a("span",[t._v(t._s(e.data.start))]),a("span",[t._v(t._s(e.data.teams.registered)+"/"+t._s(e.data.teams.max))])])]),a("div",{staticClass:"actions"},[a("router-link",{staticClass:"view",attrs:{to:"/turnaje/"+e.slug}},[t._v("Zobrazit")]),t.user?a("router-link",{staticClass:"register",attrs:{to:"/turnaje/"+e.slug+"/registrace"}},[t._v(" Registrace ")]):t._e()],1)])])})),0)],1)]),t._m(1)])])},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"banner"},[a("div",{staticClass:"banner"}),a("div",{staticClass:"darken-banner"}),a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"title"},[a("h1",[t._v("Turnaje")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h2",[t._v("Předešlé turnaje")]),a("div",{staticClass:"articles"},[a("span",{staticClass:"empty"},[t._v(" Nikde nic. ")])])])}],O={data:function(){return{upcoming:[],finished:[]}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(t.apiUrl("/tourneys"));case 2:a=e.sent,t.upcoming=a.data.upcoming,t.finished=a.data.finished;case 5:case"end":return e.stop()}}),e)})))()},computed:{user:function(){return this.$store.state.user}}},P=O,R=Object(l["a"])(P,$,E,!1,null,null,null),U=R.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"turnaj"},[t.tourney&&!t.noTourney?[a("section",{staticClass:"banner"},[a("div",{staticClass:"banner",style:"background-image: url("+t.tourney.data.bannerURL+")"}),a("div",{staticClass:"darken-banner"}),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/turnaje"}},[t._v("Turnaje")]),a("span",[t._v("/")]),a("span",[t._v(t._s(t.tourney.title))])],1),a("div",{staticClass:"data"},[a("h1",[t._v(t._s(t.tourney.title))]),a("div",{staticClass:"details"},[a("div",{staticClass:"detail"},[a("span",{staticClass:"name"},[t._v("Hra")]),a("div",[a("i",{staticClass:"fas fa-gamepad"}),a("span",[t._v(t._s(t.tourney.data.game))])])]),a("div",{staticClass:"detail"},[a("span",{staticClass:"name"},[t._v("Prize Pool")]),a("div",[a("i",{staticClass:"fas fa-trophy"}),a("span",[t._v(t._s(t.tourney.prizepool.total)+"kč")])])]),a("div",{staticClass:"detail"},[a("span",{staticClass:"name"},[t._v("Vstupné")]),a("div",[a("i",{staticClass:"fas fa-user-plus"}),a("span",[t._v(t._s(t.tourney.prizepool.enter)+"kč")])])]),a("div",{staticClass:"detail"},[a("span",{staticClass:"name"},[t._v("Datum")]),a("div",[a("i",{staticClass:"fas fa-calendar-day"}),a("span",[t._v(t._s(t.tourney.data.start))])])]),a("div",{staticClass:"detail"},[a("span",{staticClass:"name"},[t._v("Týmy")]),a("div",[a("i",{staticClass:"fas fa-users"}),a("span",[t._v(t._s(t.tourney.data.teams.registered)+"/"+t._s(t.tourney.data.teams.max))])])])])])])])]),a("section",{staticClass:"tabs"},[a("router-link",{attrs:{to:"/turnaje/"+t.tourney.slug,exact:""}},[t._v(" Přehled ")]),a("router-link",{attrs:{to:"/turnaje/"+t.tourney.slug+"/registrace"}},[t._v(" Registrace ")])],1),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)]:t._e(),t.tourney||t.noTourney?t._e():[t._m(0)],t.noTourney?[a("section",{staticClass:"not-found"},[a("span",[t._v("Nic jsme nenašli :(")]),a("router-link",{attrs:{to:"/turnaje"}},[t._v("Zpět na všechny turnaje")])],1)]:t._e()],2)},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch"})])}],N={data:function(){return{tourney:null,noTourney:!1}},computed:{user:function(){return this.$store.state.user}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getTourney();case 1:case"end":return e.stop()}}),e)})))()},methods:{getTourney:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t.apiUrl("/tourney/".concat(t.$route.params.slug)));case 3:a=e.sent,t.tourney=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.noTourney=!0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},redirectLogin:function(){localStorage.setItem("prestiz_redirect","/turnaje/".concat(this.$route.params.slug,"/registrace")),this.$router.push("/login")}}},A=N,D=Object(l["a"])(A,L,z,!1,null,null,null),I=D.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"prehled"},[t._v("Work in progress")])},S=[],q={},H=q,B=Object(l["a"])(H,M,S,!1,null,null,null),V=B.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"registrace"},[a("h1",[t._v("Vyberte si tým:")]),a("div",{staticClass:"teams"},[t._l(t.noUsableTeams,(function(e){return a("article",{key:e.id,staticClass:"team chosen"},[a("i",{staticClass:"far fa-circle"}),a("span",{staticClass:"name"},[t._v(t._s(e.title))]),a("div",{staticClass:"grow"}),a("i",{staticClass:"fas fa-chevron-up"})])})),t._l(t.usableTeams,(function(e){return a("article",{key:e.id,staticClass:"team no-use"},[a("i",{staticClass:"fas fa-ban"}),a("span",{staticClass:"name"},[t._v(t._s(e.title))]),a("div",{staticClass:"grow"}),a("span",[t._v(" < 5 hráčů")])])}))],2)])},Z=[],K=(a("4de4"),{data:function(){return{teams:null}},computed:{usableTeams:function(){return this.teams?this.teams.filter((function(t){return t.players.length>=5})):[]},noUsableTeams:function(){return this.teams?this.teams.filter((function(t){return t.players.length<5})):[]}},created:function(){this.getTeams()},methods:{getTeams:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t.apiUrl("/user/tourney-teams"),{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 3:a=e.sent,t.teams=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}}),J=K,F=Object(l["a"])(J,G,Z,!1,null,null,null),W=F.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"invite"},[t.user.name&&t.user.lastname&&t.user.trida?t._e():a("section",{staticClass:"nofinish"},[a("span",[a("span",{staticClass:"bold"},[t._v("Účet nemá podstatné informace ke správné funkčnosti!")]),t._v(" Doplňte svoje údaje v části "),a("router-link",{attrs:{to:"/dashboard/profil/upravit"}},[t._v('"Profil > Upravit Profil"')])],1)]),[a("transition",{attrs:{name:"inv",mode:"out-in"}},["loading"==t.tab?a("section",{key:"loading",staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch"})]):"join"==t.tab?a("section",{key:"join",staticClass:"join"},[a("h1",[t._v("Pozvánka")]),a("h2",[a("i",{class:t.typeIcon}),t._v(" "+t._s(t.type))]),a("div",{staticClass:"game-icon",style:"background-image: url("+t.api(""+t.game.iconURL)+")"}),a("h3",[t._v(t._s(t.team.tag)+" • "+t._s(t.team.title))]),t.joinLoading?a("button",{staticClass:"invalid"},[a("i",{staticClass:"fas fa-circle-notch"})]):a("button",{on:{click:t.joinTeam}},[t._v("Přijmout")])]):"nickname"==t.tab?a("section",{key:"nickname",staticClass:"nickname"},[a("h1",[t._v("Váš nick ve hře:")]),a("div",{staticClass:"game-icon",style:"background-image: url("+t.api(""+t.game.iconURL)+")"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",placeholder:"Nickname"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),t.nickLoading?a("button",{staticClass:"invalid"},[a("i",{staticClass:"fas fa-circle-notch"})]):a("button",{class:t.nickInvalid?"invalid":"",on:{click:t.sendNick}},[t._v(" Odeslat ")])]):"already"==t.tab?a("section",{key:"already",staticClass:"already"},[a("h1",[t._v("V tomhle týmu už dávno jste.")]),a("router-link",{attrs:{to:"/dashboard/tymy/"+t.team.slug}},[t._v("Otevřít Tým")])],1):t._e()])]],2)},X=[],Y={data:function(){return{team:null,invite:null,game:null,invalidInvite:!1,joinLoading:!1,nickname:"",nickLoading:!1,tab:"loading"}},computed:{user:function(){return this.$store.state.user},type:function(){return"player"==this.invite.type?"Hráč":"mod"==this.invite.type?"Správce":null},typeIcon:function(){return"player"==this.invite.type?"fas fa-user":"mod"==this.invite.type?"fas fa-tools":null},nickInvalid:function(){return!this.nickname}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t.apiUrl("/invite/".concat(t.$route.params.code)),{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 3:a=e.sent,console.log(a.data),t.team=a.data.team,t.invite=a.data.invite,t.game=a.data.game,a.data.hasGame||"mod"===a.data.invite.type?t.tab="join":t.tab="nickname",e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),403===e.t0.response.status&&(t.team=e.t0.response.data.team,"isOwner"==e.t0.response.data.why&&t.$router.push("/dashboard/tymy/".concat(t.team.slug)),t.tab="already"),t.invalidInvite=!0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},methods:{api:function(t){return this.apiUrl(t)},sendNick:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.nickname){e.next=2;break}return e.abrupt("return");case 2:return t.nickLoading=!0,e.prev=3,e.next=6,y.a.post(t.apiUrl("/user/game"),{nickname:t.nickname,game:t.game.id},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 6:t.nickLoading=!1,t.tab="join",e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log(e.t0),t.nickLoading=!1;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},joinTeam:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.joinLoading=!0,e.prev=1,e.next=4,y.a.post(t.apiUrl("/invite/".concat(t.invite.code,"/join")),{},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 4:t.joinLoading=!1,t.tab="join",e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),t.joinLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},tt=Y,et=Object(l["a"])(tt,Q,X,!1,null,null,null),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"dashboard"},[t.user?t._e():[t._m(0)],t.user?[t.user.name&&t.user.lastname&&t.user.trida?t._e():a("section",{staticClass:"notification"},[a("div",{staticClass:"content"},[a("i",{staticClass:"fas fa-exclamation-triangle"}),a("span",[a("span",{staticClass:"bold"},[t._v("Účet nemá podstatné informace ke správné funkčnosti!")]),t._v(" Doplňte svoje údaje v části "),a("router-link",{attrs:{to:"/dashboard/profil/upravit"}},[t._v('"Profil > Upravit Profil"')])],1)])]),a("section",{staticClass:"banner"},[a("div",{staticClass:"content"},[a("div",{staticClass:"data"},[a("div",{staticClass:"main-group"},[a("article",{staticClass:"main"},[a("h1",[t._v(t._s(t.user.name||"---")+" "+t._s(t.user.lastname||"---"))]),a("h2",[t._v(t._s(t.user.email))])]),a("article",[a("h2",[t._v("Třída")]),a("h1",[t._v(t._s(t.user.trida||"---"))])])])])])]),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)]:t._e()],2)},rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch"})])}],nt={data:function(){return{edit:!1}},computed:{user:function(){return this.$store.state.user}},methods:{saveEdit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.edit=!1;case 1:case"end":return e.stop()}}),e)})))()}}},it=nt,ot=Object(l["a"])(it,st,rt,!1,null,null,null),ct=ot.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"view overview"},[t._m(0),a("div",{staticClass:"overview"},[a("router-link",{staticClass:"edit",attrs:{to:"/dashboard/profil"}},[a("i",{staticClass:"fas fa-user-edit"}),a("span",[t._v("Profil")])]),a("router-link",{staticClass:"teams",attrs:{to:"/dashboard/tymy"}},[a("i",{staticClass:"fas fa-users"}),a("span",[t._v("Moje Týmy")])]),a("router-link",{staticClass:"matches",attrs:{to:"/dashboard"}},[a("i",{staticClass:"fas fa-gamepad"}),a("span",[t._v("Zápasy")])]),a("router-link",{staticClass:"tourneys",attrs:{to:"/dashboard"}},[a("i",{staticClass:"fas fa-trophy"}),a("span",[t._v("Turnaje")])])],1)])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("span",[t._v("Dashboard")])])])}],mt={},dt=mt,pt=Object(l["a"])(dt,lt,ut,!1,null,null,null),vt=pt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"view profile"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),a("span",[t._v("/")]),a("span",[t._v("Profil")])],1)]),a("div",{staticClass:"profil"},[a("div",{staticClass:"overview"},[a("router-link",{staticClass:"edit",attrs:{to:"/dashboard/profil/upravit"}},[a("i",{staticClass:"fas fa-user-edit"}),a("span",[t._v("Upravit Profil")])]),a("router-link",{staticClass:"teams",attrs:{to:"/dashboard/profil/games"}},[a("i",{staticClass:"fas fa-dice-d6"}),a("span",[t._v("Moje Hry")])])],1)])])},ft=[],gt={},_t=gt,bt=Object(l["a"])(_t,ht,ft,!1,null,null,null),Ct=bt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"view profile-edit"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard/profil"}},[t._v("Profil")]),a("span",[t._v("/")]),a("span",[t._v("Upravit")])],1),a("button",{class:t.invalid?"invalid":"",on:{click:t.submitEdit}},[t._v(" Uložit ")])]),a("div",{staticClass:"edit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Křestní jméno"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],attrs:{type:"text",placeholder:"Přijmená"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.trida,expression:"trida"}],attrs:{type:"text",placeholder:"Třída"},domProps:{value:t.trida},on:{input:function(e){e.target.composing||(t.trida=e.target.value)}}})])])},yt=[],wt={data:function(){return{name:"",lastname:"",trida:""}},computed:{user:function(){return this.$store.state.user},invalid:function(){return!this.name||!this.lastname||!this.trida}},created:function(){this.name=this.user.name,this.lastname=this.user.lastname,this.trida=this.user.trida},methods:{submitEdit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.invalid){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,y.a.post(t.apiUrl("/user/edit"),{name:t.name,lastname:t.lastname,trida:t.trida},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 5:t.$router.push("/dashboard/profil"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}},xt=wt,jt=Object(l["a"])(xt,kt,yt,!1,null,null,null),Tt=jt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"view profile-games"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard/profil"}},[t._v("Profil")]),a("span",[t._v("/")]),a("span",[t._v("Hry")])],1)]),a("div",{staticClass:"games"},[a("p",[t._v("Kliknutím na hru ji přidáte do svých hraných her!")]),a("div",{staticClass:"select-games"},t._l(t.games,(function(e){return a("div",{key:e.id,staticClass:"s-game",class:t.activeGames.includes(e.id)?"chosen":"",style:"background-image: url("+t.api(""+e.iconURL)+")"})})),0),t._l(t.user.games,(function(e){return a("div",{key:e.id,staticClass:"game"},[a("div",{staticClass:"info"},[a("div",{staticClass:"game-img",style:"background-image: url("+t.api(""+t.getGameIcon(t.gid))+")"})])])}))],2)])},Et=[],Ot=(a("d81d"),a("7db0"),{data:function(){return{games:null,api:Function}},computed:{user:function(){return this.$store.state.user},activeGames:function(){return this.$store.state.user.games.map((function(t){return t.id}))}},created:function(){this.getGames(),this.api=this.apiUrl},methods:{getGames:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(t.apiUrl("/games"));case 2:a=e.sent,t.games=a.data;case 4:case"end":return e.stop()}}),e)})))()},getGameIcon:function(t){return this.games.find((function(e){return e.id===t})).iconURL}}}),Pt=Ot,Rt=Object(l["a"])(Pt,$t,Et,!1,null,null,null),Ut=Rt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"view teams"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),a("span",[t._v("/")]),a("span",[t._v("Moje Týmy")])],1),a("router-link",{staticClass:"createTeam",attrs:{to:"/dashboard/tymy/novy"}},[t._v("Vytvořit Tým")])],1),a("div",{staticClass:"teams"},[0===t.teams.length?a("span",{staticClass:"empty"},[t._v(" Nejste v žádném týmu :(")]):t._l(t.teams,(function(e){return a("router-link",{key:e.id,attrs:{to:"/dashboard/tymy/"+e.slug}},[a("div",{staticClass:"details"},[a("div",{staticClass:"role"},[e.owner?a("i",{staticClass:"fas fa-crown"}):t._e(),e.owner?a("span",{staticClass:"title"},[t._v("Majitel")]):t._e(),e.mod&&!e.owner?a("i",{staticClass:"fas fa-tools"}):t._e(),e.mod&&!e.owner?a("span",{staticClass:"title"},[t._v("Správce")]):t._e(),e.player?a("i",{staticClass:"fas fa-user"}):t._e(),e.player?a("span",{staticClass:"title"},[t._v("Hráč")]):t._e()])]),a("div",{staticClass:"game",style:"background-image: url("+t.api("/imgs/games/"+e.game+"/icon.png")+")"}),a("div",{staticClass:"data"},[a("span",{staticClass:"tag"},[t._v(t._s(e.tag))]),a("span",[t._v(" "+t._s(e.title)+" ")])])])}))],2)])},zt=[],Nt={data:function(){return{api:Function}},computed:{teams:function(){return this.$store.state.user.teams}},created:function(){this.api=this.apiUrl}},At=Nt,Dt=Object(l["a"])(At,Lt,zt,!1,null,null,null),It=Dt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"view team-create"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard/tymy"}},[t._v("Moje Týmy")]),a("span",[t._v("/")]),a("span",[t._v("Vytvoření Týmu")])],1),t.submitLoading?a("a",{staticClass:"submitTeam loading",class:t.valid?"":"invalid",on:{click:t.submitTeam}},[a("i",{staticClass:"fas fa-circle-notch"})]):a("a",{staticClass:"submitTeam",class:t.valid?"":"invalid",on:{click:t.submitTeam}},[t._v("Vytvořit")])]),a("div",{staticClass:"create"},[a("div",{staticClass:"inputs"},[a("h1",[t._v("Vytvoření Týmu")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],class:t.titleError?"error":"",attrs:{type:"text",placeholder:"Název týmu"},domProps:{value:t.title},on:{click:function(e){t.titleError=!1},input:function(e){e.target.composing||(t.title=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.titleError,expression:"titleError"}],staticClass:"input-error",domProps:{innerHTML:t._s("Zadejte název týmu!")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],class:t.tagError?"error":"",attrs:{type:"text",placeholder:"Zkratka týmu"},domProps:{value:t.tag},on:{click:function(e){t.tagError=!1},input:function(e){e.target.composing||(t.tag=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.tagError,expression:"tagError"}],staticClass:"input-error",domProps:{innerHTML:t._s("Zadejte zkratku týmu!")}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.game,expression:"game"}],on:{click:function(e){t.gameError=!1},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.game=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Vyberte hru")]),t._l(t.games,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:t.gameError,expression:"gameError"}],staticClass:"input-error",domProps:{innerHTML:t._s("Vyberte hru!")}})])])])])},St=[],qt={data:function(){return{title:"",titleError:!1,tag:"",tagError:!1,game:"",gameError:!1,games:[],submitLoading:!1}},computed:{user:function(){return this.$store.state.user},valid:function(){var t=""===this.title||""===this.tag||""===this.game;return!t}},methods:{submitTeam:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t.title&&(t.titleError=!0),""===t.tag&&(t.tagError=!0),""===t.game&&(t.gameError=!0),t.valid){e.next=5;break}return e.abrupt("return");case 5:return t.submitLoading=!0,e.prev=6,e.next=9,y.a.post(t.apiUrl("/team/create"),{title:t.title,tag:t.tag,game:t.game},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 9:a=e.sent,t.submitLoading=!1,t.$router.push("/dashboard/tymy/".concat(a.data.slug)),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](6),t.submitLoading=!1,console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})))()}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(t.apiUrl("/games"));case 2:a=e.sent,t.games=a.data;case 4:case"end":return e.stop()}}),e)})))()}},Ht=qt,Bt=Object(l["a"])(Ht,Mt,St,!1,null,null,null),Vt=Bt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.team&&!t.noTeam?a("section",{staticClass:"view team"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard/tymy"}},[t._v("Moje Týmy")]),a("span",[t._v("/")]),a("span",[t._v(t._s(t.team.title))])],1),a("div",{staticClass:"buttons"},[t.isMod?a("router-link",{staticClass:"edit",attrs:{to:"/dashboard/tymy/"+t.team.slug+"/upravit"}},[a("i",{staticClass:"fas fa-pencil-alt"})]):t._e(),t.isMod?a("router-link",{staticClass:"invite",attrs:{to:"/dashboard/tymy/"+t.team.slug+"/invite"}},[a("i",{staticClass:"fas fa-user-plus"})]):t._e()],1)]),a("div",{staticClass:"section-team"},[a("div",{staticClass:"section"},[a("h1",[t._v(t._s(t.team.title))]),a("div",{staticClass:"team-details"},[a("span",[t._v(t._s(t.team.tag))]),a("span",[t._v("•")]),a("span",[t._v(t._s(t.team.game))])])]),a("div",{staticClass:"section"},[a("h2",[t._v("Uživatelé")]),a("div",{staticClass:"players"},[a("div",{staticClass:"player"},[a("div",{staticClass:"name"},[a("i",{staticClass:"fas fa-crown"}),a("span",[t._v(" "+t._s(t.owner.name)+" "+t._s(t.owner.lastname)+" ")]),a("span",{staticClass:"trida"},[t._v(" "+t._s(t.owner.trida)+" ")])])]),t._l(t.mods,(function(e){return a("div",{key:e.email,staticClass:"player"},[a("div",{staticClass:"name"},[a("i",{staticClass:"fas fa-tools"}),a("span",[t._v(" "+t._s(e.name)+" "+t._s(e.lastname)+" ")]),a("span",{staticClass:"trida"},[t._v(" "+t._s(e.trida)+" ")])]),t.isOwner?a("button",[a("i",{staticClass:"fas fa-user-times"})]):t._e()])})),t._l(t.players,(function(e){return a("div",{key:e.email,staticClass:"player"},[a("div",{staticClass:"name"},[a("i",{staticClass:"fas fa-user"}),a("span",[t._v(" "+t._s(t.a.name)+" "+t._s(t.a.lastname)+" ")]),a("span",{staticClass:"trida"},[t._v(t._s(t.a.trida))]),a("span",{staticClass:"darken"},[t._v(t._s(t.a.nickname))])]),a("div",{staticClass:"actions"},[t.isOwner?a("button",{staticClass:"make-mod",on:{click:function(a){return t.makeMod(e.email)}}},[a("i",{staticClass:"fas fa-tools"})]):t._e(),t.isMod?a("button",{staticClass:"del",on:{click:function(a){return t.delPlayer(e.email)}}},[a("i",{staticClass:"fas fa-user-times"})]):t._e()])])}))],2)]),a("div",{staticClass:"section"},[a("h2",[t._v("Pozvánky")]),a("div",{staticClass:"invites"},t._l(t.team.invites,(function(e){return a("div",{key:e.code,staticClass:"invite"},[a("div",{staticClass:"data"},["mod"==e.type?a("i",{staticClass:"fas fa-tools"}):"player"==e.type?a("i",{staticClass:"fas fa-user"}):t._e(),a("span",{staticClass:"code"},[t._v(t._s(e.code))]),a("span",{staticClass:"uses"},[a("span",{staticClass:"darken"},[t._v("Použito: ")]),t._v(t._s(e.maxUses-e.uses)+"/"+t._s(e.maxUses))])]),a("div",{staticClass:"actions"},[a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return e.link},expression:"() => i.link"}],staticClass:"copy"},[a("i",{staticClass:"fas fa-clipboard"})]),t.isOwner||t.isMod&&"player"==e.type?a("button",{staticClass:"del",on:{click:function(a){return t.delInv(e.code)}}},[a("i",{staticClass:"fas fa-trash"})]):t._e()])])})),0)])])]):t._e()},Zt=[],Kt=(a("99af"),{data:function(){return{originalTeam:null,team:null,noTeam:!1}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getTeam();case 1:case"end":return e.stop()}}),e)})))()},computed:{isOwner:function(){var t=this;return this.$store.state.user.teams.find((function(e){return e.id===t.team.id})).owner},isMod:function(){var t=this;return this.$store.state.user.teams.find((function(e){return e.id===t.team.id})).mod},players:function(){return this.team.users.filter((function(t){return!0===t.player}))},mods:function(){return this.team.users.filter((function(t){return!0===t.mod&&!1===t.owner}))},owner:function(){return this.team.users.find((function(t){return!0===t.owner}))}},methods:{getTeam:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t.apiUrl("/dash/team/".concat(t.$route.params.slug)),{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 3:a=e.sent,t.originalTeam=a.data,t.team=a.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.noTeam=!0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},delInv:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=confirm("Chcete opravdu smazat pozvánku ".concat(t,"?")),s){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,y.a.delete(e.apiUrl("/dash/team/".concat(e.team.slug,"/invite/").concat(t)),{headers:{Authorization:"Bearer ".concat(e.$store.state.token)}});case 6:e.getTeam(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](3),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[3,9]])})))()},delPlayer:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.players.find((function(e){return e.email===t})),s){a.next=3;break}return a.abrupt("return");case 3:if(r=confirm("Chcete opravdu vyhodit hráče ".concat(s.name," ").concat(s.lastname," z týmu?")),r){a.next=6;break}return a.abrupt("return");case 6:if(!s.mod||s.owner){a.next=18;break}return a.prev=7,a.next=10,y.a.post(e.apiUrl("/dash/team/".concat(e.$route.params.slug,"/make")),{email:t,what:"player",bool:!1},{headers:{Authorization:"Bearer ".concat(e.$store.state.token)}});case 10:e.getTeam(),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](7),console.log(a.t0);case 16:a.next=28;break;case 18:if(s.mod||s.owner){a.next=28;break}return a.prev=19,a.next=22,y.a.delete(e.apiUrl("/dash/team/".concat(e.team.slug,"/user/").concat(t)),{headers:{Authorization:"Bearer ".concat(e.$store.state.token)}});case 22:e.getTeam(),a.next=28;break;case 25:a.prev=25,a.t1=a["catch"](19),console.log(a.t1);case 28:case"end":return a.stop()}}),a,null,[[7,13],[19,25]])})))()},makeMod:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.post(e.apiUrl("/dash/team/".concat(e.$route.params.slug,"/make")),{email:t,what:"mod",bool:!0},{headers:{Authorization:"Bearer ".concat(e.$store.state.token)}});case 3:e.getTeam(),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}}}),Jt=Kt,Ft=Object(l["a"])(Jt,Gt,Zt,!1,null,null,null),Wt=Ft.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.team&&!t.noTeam?a("section",{staticClass:"view team-invite"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard/tymy/"+t.team.slug}},[t._v(t._s(t.team.title))]),a("span",[t._v("/")]),a("span",[t._v("Pozvánka")])],1),a("router-link",{staticClass:"back",attrs:{to:"/dashboard/tymy/"+t.team.slug}},[t._v("Zpět")])],1),a("div",{staticClass:"team-invite"},[a("div",{staticClass:"section"},[a("h2",[t._v("Koho chcete pozvat?")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"player"},domProps:{checked:t._q(t.type,"player")},on:{change:function(e){t.type="player"}}}),t._v(" Hráče ")]),t.isOwner?a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"mod"},domProps:{checked:t._q(t.type,"mod")},on:{change:function(e){t.type="mod"}}}),t._v(" Správce ")]):t._e()]),a("div",{staticClass:"section"},[a("h2",[t._v("Počet použití pozvánky")]),a("div",{staticClass:"row"},[a("button",{staticClass:"change-uses",on:{click:t.subUse}},[a("i",{staticClass:"fas fa-minus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.uses,expression:"uses"}],attrs:{type:"text"},domProps:{value:t.uses},on:{input:function(e){e.target.composing||(t.uses=e.target.value)}}}),a("button",{staticClass:"change-uses",on:{click:t.addUse}},[a("i",{staticClass:"fas fa-plus"})])])]),a("div",{staticClass:"section"},[t.submitLoading||t.invite?!t.submitLoading&&t.invite?a("button",{staticClass:"submit loading"},[a("i",{staticClass:"fas fa-check"}),t._v(" Klikněte odkaz pro zkopírování ")]):a("button",{staticClass:"submit loading"},[a("i",{staticClass:"fas fa-circle-notch"})]):a("button",{staticClass:"submit",on:{click:t.getInvite}},[t._v(" Vytvořit Pozvánku ")])]),a("div",{staticClass:"section"},[t.invite?a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.invite},expression:"() => invite"}],staticClass:"link"},[t._v(" "+t._s(t.invite)+" ")]):t._e()])])]):t._e()},Xt=[],Yt=(a("25f0"),{data:function(){return{team:null,noTeam:!1,type:"player",uses:"5",submitLoading:!1,invite:""}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTeam();case 2:t.isOwner||t.$router.push("/dashboard/tymy");case 3:case"end":return e.stop()}}),e)})))()},computed:{isOwner:function(){var t=this;return this.$store.state.user.teams.find((function(e){return e.id===t.team.id})).owner}},methods:{getTeam:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t.apiUrl("/dash/team/".concat(t.$route.params.slug)),{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 3:a=e.sent,t.team=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.noTeam=!0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addUse:function(){this.uses=(parseInt(this.uses)+1).toString()},subUse:function(){this.uses=(parseInt(this.uses)-1).toString()},getInvite:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.submitLoading=!0,e.prev=1,e.next=4,y.a.post(t.apiUrl("/dash/team/".concat(t.$route.params.slug,"/invite")),{type:t.type,uses:t.uses},{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 4:a=e.sent,t.invite=a.data.invite,t.submitLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t.submitLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}},watch:{type:function(t){"player"==t&&(this.uses="5"),"mod"==t&&(this.uses="1")}}}),te=Yt,ee=Object(l["a"])(te,Qt,Xt,!1,null,null,null),ae=ee.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.team&&!t.noTeam?a("section",{staticClass:"view team-edit"},[a("div",{staticClass:"top"},[a("div",{staticClass:"route"},[a("span",[t._v("/")]),a("router-link",{attrs:{to:"/dashboard/tymy/"+t.team.slug}},[t._v(t._s(t.team.title))]),a("span",[t._v("/")]),a("span",[t._v("Upravit")])],1),a("router-link",{staticClass:"back",attrs:{to:"/dashboard/tymy/"+t.team.slug}},[t._v("Zpět")])],1)]):t._e()},re=[],ne={data:function(){return{team:null,noTeam:null}},created:function(){this.getTeam()},methods:{getTeam:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t.apiUrl("/dash/team/".concat(t.$route.params.slug)),{headers:{Authorization:"Bearer ".concat(t.$store.state.token)}});case 3:a=e.sent,t.team=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.noTeam=!0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},ie=ne,oe=Object(l["a"])(ie,se,re,!1,null,null,null),ce=oe.exports,le={path:"/dashboard",component:ct,children:[{path:"",name:"Dashboard",component:vt,meta:{requiresAuth:!0}},{path:"tymy",name:"DashboardTeams",component:It,meta:{requiresAuth:!0}},{path:"tymy/novy",name:"DashboardTeamsCreate",component:Vt,meta:{requiresAuth:!0}},{path:"tymy/:slug",name:"DashboardTeam",component:Wt,meta:{requiresAuth:!0}},{path:"tymy/:slug/invite",name:"DashboardTeamInvite",component:ae,meta:{requiresAuth:!0}},{path:"tymy/:slug/upravit",name:"DashboardTeamEdit",component:ce,meta:{requiresAuth:!0}},{path:"profil",name:"DashboardProfie",component:Ct,meta:{requiresAuth:!0}},{path:"profil/upravit",name:"DashboardProfieEdit",component:Tt,meta:{requiresAuth:!0}},{path:"profil/games",name:"DashboardProfieGames",component:Ut,meta:{requiresAuth:!0}}]};r["a"].use(d["a"]);var ue=[{path:"/",name:"Home",component:_},{path:"/o-nas",name:"O nás",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/login",name:"Přihlášení",component:T},{path:"/i/:code",name:"Invite",component:at,meta:{requiresAuth:!0}},{path:"/turnaje",name:"Turnaje",component:U},{path:"/turnaje/:slug",component:I,children:[{path:"",name:"Turnaj",component:V},{path:"registrace",component:W,meta:{requiresAuth:!0}}]}];ue.push(le);var me=new d["a"]({routes:ue}),de=me,pe=a("2f62");r["a"].use(pe["a"]);var ve=new pe["a"].Store({state:{token:null,user:null},mutations:{setToken:function(t,e){t.token=e},setUser:function(t,e){t.user=e}},actions:{login:function(t,e){t.commit("setToken",e.token),t.commit("setUser",e.user),e.save&&localStorage.setItem("prestiz_token",e.token)}},modules:{}}),he=a("4ae6"),fe=a.n(he);r["a"].use(fe.a),r["a"].config.productionTip=!1,r["a"].prototype.apiUrl=function(t){return"https://api.michalwinter.cz/4654".concat(t)};var ge=localStorage.getItem("prestiz_token");ge&&ve.commit("setToken",ge),r["a"].prototype.getUser=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!ve.state.token){t.next=16;break}return t.prev=1,t.next=4,y.a.get(r["a"].prototype.apiUrl("/user"),{headers:{Authorization:"Bearer ".concat(ve.state.token)}});case 4:return e=t.sent,ve.commit("setUser",e.data),t.abrupt("return",e.data);case 9:return t.prev=9,t.t0=t["catch"](1),localStorage.removeItem("prestiz_token"),ve.dispatch("login",{token:null,user:null}),t.abrupt("return",null);case 14:t.next=17;break;case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[1,9]])}))),de.beforeEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].prototype.getUser();case 2:n=t.sent,e.matched.some((function(t){return t.meta.requiresAuth}))?n?s():(localStorage.setItem("prestiz_redirect",e.fullPath),s("/login")):s();case 4:case"end":return t.stop()}}),t)})));return function(e,a,s){return t.apply(this,arguments)}}()),new r["a"]({router:de,store:ve,render:function(t){return t(m)}}).$mount("#app")}});
//# sourceMappingURL=app.40c852a3.js.map